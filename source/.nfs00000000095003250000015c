;(load "~/git/sfqcadadp/source/load.ils")
(let ()
  (defun mload (dirPath)
    (let (files)
      ;(setq files (setof file (getDirFiles dirPath) (rexMatchp ".il$" file)))
      (setq files (append files
                          (setof file (getDirFiles dirPath) (rexMatchp ".ils$" file))))
      (foreach file files
               (printf "[INFO] loading %s\n" file)
               (loadi (buildString (list dirPath file) "/"))
               )))
  (define loadDirs
    (list
      "functions"
      "timing"
      "route"
      ))
  (define currentDir nil)
  (define path #.get_filename(piport) )
  (define aList (list 1 2 3 4))
  (println aList)
  (rplaca (last aList))
  (println aList)
  ;(foreach
  ;  dir loadDirs
  ;  (when (isReadable (setq currentDir (buildString list( path dir ) "/" )))
  ;    (println currentDir)
  ;    ;(mload currentDir)
  ;    ))
  )
